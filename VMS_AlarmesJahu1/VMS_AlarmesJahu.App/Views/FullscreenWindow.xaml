<Window x:Class="VMS_AlarmesJahu.App.Views.FullscreenWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="clr-namespace:VMS_AlarmesJahu.App.Views.Controls"
        Title="ALERTA" WindowStyle="None" WindowState="Maximized"
        Background="#0A0A0A" KeyDown="Window_KeyDown">
    <Grid>
        <!-- Borda vermelha piscante -->
        <Border x:Name="AlertBorder" BorderBrush="Red" BorderThickness="4"/>
        
        <!-- Container de Vídeo com Overlay -->
        <Grid Margin="4">
            <!-- Imagem do vídeo (snapshot) - UniformToFill para preencher -->
            <Image x:Name="VideoImage" Stretch="UniformToFill"/>
            
            <!-- Overlay de regras (linhas/polígonos) -->
            <controls:RuleOverlay x:Name="RulesOverlay"/>
        </Grid>
        
        <!-- Overlay superior -->
        <Border Background="#80000000" VerticalAlignment="Top" Padding="20,12">
            <Grid>
                <StackPanel>
                    <TextBlock x:Name="TxtTitle" Text="ALERTA" FontSize="28" FontWeight="Bold" Foreground="White"/>
                    <TextBlock x:Name="TxtInfo" Text="" FontSize="16" Foreground="#FFD0D0"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                    <TextBlock x:Name="TxtTimer" Text="30" FontSize="48" FontWeight="Bold" Foreground="Red"/>
                    <TextBlock Text="s" FontSize="24" Foreground="Red" VerticalAlignment="Bottom" Margin="0,0,0,8"/>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- Botão fechar -->
        <Button x:Name="BtnClose" Content="✕ FECHAR (ESC)" Click="BtnClose_Click"
                VerticalAlignment="Bottom" HorizontalAlignment="Center" 
                Margin="0,0,0,30" Padding="24,12" FontSize="16"
                Background="#80FF0000" Foreground="White" BorderThickness="0"/>
    </Grid>
</Window>
